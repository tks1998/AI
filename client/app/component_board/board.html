<div class="board">
	<div class="grid">
			
		<!-- Dummy Pieces -->
		<!---->
		<div *ngIf="humanMode && selectedPiece && state.playingTeam ==1">
			<button *ngFor="let piece of dummyPieces" (click)="clickDummyPiece(piece)" 
				class="dummyPiece" [class.possibleMove]='isPossibleMove(piece.position)' 
				[style.left]="(piece.position[1]-1.5)*pieceSize+'px'" 
				[style.bottom]="((piece.position[0]-1.5)*pieceSize + (piece.position[0] > 5 ? 15 : 0))+'px'">
					{{piece.position}}
				
		</button>
		</div>
		<!--class.selected == (condition ) If  condition == true then add attribute " css : .selected " into element-->
		<!--<div *ngIf ="checkReverse(); then ReverseChinachess else chinachess"> </div>-->
		
		<div *ngIf = "reverse">
			<!--RedTeam-->
			<div *ngFor="let piece of state.redAgent.myPieces" >
				<div *ngIf = "CheckMove(piece); then showTname else showrealname" > </div>
			
				<!--case 1:  show with real name-->
				<ng-template #showTname> 
					<button 
						[class.selected]='selectedPiece && selectedPiece.position==piece.position' 
						(click)="clickRedPiece(piece)" 
						[style.left]="(piece.position[1]-1.5)*pieceSize+'px'" 
						[style.bottom]="((piece.position[0]-1.5)*pieceSize + (piece.position[0] > 5 ? 15 : 0))+'px'">
							<img src="resource/img/pieces/1/{{piece.name[0]}}.png" alt="">
					</button>
				</ng-template>

			<!--case 2: show with fake name -->
				<ng-tempalte #showrealname>
					<button *ngFor="let piece of state.redAgent.myPieces" 
					[class.selected]='selectedPiece && selectedPiece.position==piece.position' 
					(click)="clickRedPiece(piece)" 
					[style.left]="(piece.position[1]-1.5)*pieceSize+'px'" 
					[style.bottom]="((piece.position[0]-1.5)*pieceSize + (piece.position[0] > 5 ? 15 : 0))+'px'">
					<div *ngIf = "piece.isMove; then showTname else showrealname" > </div>	
						<img src="resource/img/{{quando}}.png" alt="">
					</button>

				</ng-tempalte>
			</div>
			<!--Black Team-->
			<div *ngFor="let piece of state.blackAgent.myPieces" >
				<div *ngIf = "piece.isMove; then showTname1 else showrealname1" >	</div>
				<ng-template #showTname1> 
				<button 
					[style.left]="(piece.position[1]-1.5)*pieceSize+'px'" 
					(click)="clickBlackPiece(piece)" 
					[class.possibleMove]='state.playingTeam==1 && isPossibleMove(piece.position)' 
					[style.bottom]="((piece.position[0]-1.5)*pieceSize + (piece.position[0] > 5 ? 15 : 0))+'px'">
				
					<img src="resource/img/pieces/-1/{{piece.name[0]}}.png" alt="">
					</button>
				</ng-template>
				<ng-template #showrealname1> 
						<button *ngFor="let piece of state.blackAgent.myPieces" 
							[style.left]="(piece.position[1]-1.5)*pieceSize+'px'" 
							(click)="clickBlackPiece(piece)" 
							[class.possibleMove]='state.playingTeam==1 && isPossibleMove(piece.position)' 
							[style.bottom]="((piece.position[0]-1.5)*pieceSize + (piece.position[0] > 5 ? 15 : 0))+'px'">
							<img src="resource/img/{{quanxanh}}.png" alt="">							
						</button>
				</ng-template>
			</div>
		</div>	
		
		<div *ngIf = "!reverse">
			
			<!--Red Team-->
				<button *ngFor="let piece of state.redAgent.myPieces" 
					[class.selected]='selectedPiece && selectedPiece.position==piece.position' 
					(click)="clickRedPiece(piece)" 
					[style.left]="(piece.position[1]-1.5)*pieceSize+'px'" 
					[style.bottom]="((piece.position[0]-1.5)*pieceSize + (piece.position[0] > 5 ? 15 : 0))+'px'">
					<img src="resource/img/pieces/1/{{piece.name[0]}}.png" alt="">
				</button>
			
			<!-- Black Pieces -->
				<button *ngFor="let piece of state.blackAgent.myPieces" 
							[style.left]="(piece.position[1]-1.5)*pieceSize+'px'" 
							(click)="clickBlackPiece(piece)" 
							[class.possibleMove]='state.playingTeam==1 && isPossibleMove(piece.position)' 
							[style.bottom]="((piece.position[0]-1.5)*pieceSize + (piece.position[0] > 5 ? 15 : 0))+'px'">
								<img src="resource/img/pieces/-1/{{piece.name[0]}}.png" alt="">
				</button>
		</div>
	</div>
</div>
